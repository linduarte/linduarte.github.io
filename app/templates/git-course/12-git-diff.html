<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Git Diff</title>
    <link rel="stylesheet" href="/app/static/css/style.css">
    <link rel="stylesheet" href="/app/static/css/common-styles.css">
    <link rel="stylesheet" href="/app/static/css/git-course.css">
    <link rel="stylesheet" href="/app/static/css/git-diff.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Victor+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-bash.min.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <!-- handler moved to shared js: attachMarkCompletedHandler() -->
    <script src="/app/static/js/config.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const token = localStorage.getItem('access_token');
        if (!token) {
            window.location.href = '/landing.html';
            return;
        }
        const logoutBtn = document.getElementById('logoutButton');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('access_token');
                window.location.href = '/landing.html';
            });
        }
    });
    </script>
</head>
<body class="intro-page">

    <div class="container">

                <h1>Comparando vers√µes</h1>
                <p class="p-styled  spaced-p">√â muito importante notar que existem v√°rias vers√µes de um arquivo em um reposit√≥rio Git. Cada vers√£o de um arquivo
                 √© chamada de 'commit'. Um 'commit' √© uma vers√£o de um arquivo em um reposit√≥rio Git.</p>

             <ul>
        <li>Diret√≥rio de trabalho - constitui uma vers√£o de seus arquivos em processo de edi√ß√£o</li>
        <li>A vers√£o 'staged' - ou seja quando voce adicionou utilizando o 'git add' colocando seus arquivos no chamado 'index' , esperando para serem comitados.</li>
        <li>A vers√£o comitada - uma vers√£o para cada comite.</li>
       </ul>
       <p class="p-styled  spaced-p">Num mundo real quando trabalhamos sem uma ferramenta de controle
        de vers√£o como o Git, voce pode ter v√°rias vers√µes de um arquivo em seu diret√≥rio de trabalho. E voce simplesmente salva um mesmo arquivo v√°rias vezes ou at√© mesmo
        salva com outro nome. Com o Git voce pode salvar v√°rias vers√µes de um arquivo em um reposit√≥rio Git. Cada vers√£o de um arquivo √© chamada de 'commit'.
        Um 'commit' √© uma vers√£o de um arquivo em um reposit√≥rio Git.
        Pensando em um trabalho de desenvolvimento de software, cada 'commit' representa um conjunto de mudan√ßas em um arquivo ou em um conjunto de arquivos.
       </p>

       <p class="p-styled  spaced-p">Agora vamos conhecer um comando que mostra as mudan√ßas no diret√≥rio de trabalho, no 'index e nas vers√µes de comites.</p>

       <pre class="spaced-pre"><code class="language-bash">git diff</code></pre>


       <p class="p-styled  spaced-p">Para darmos in√≠cio ao processo de utiliza√ß√£o do git diff
        torna-se importante saber o status de nossa √∫ltima interven√ß√£o no reposit√≥rio quando realizadmos o comite da letra 'D'. A imagem abaixo registra o status e nos informa
        que estamos 1(um) comite a frente do reposit√≥rio remoto.</p>

    <img src="/app/static/images/status_comit_let_D.webp" alt="Tela mostrando o status do reposit√≥rio" class="img-full">

       <p class="p-styled  spaced-p">Vamos implementar uma nova 'feature request' adicionando a letra 'E'
        aos arquivos pilots.html, cities.html e names.html da mesma forma anteriormente realizada com a letra 'D'.</p>

    <img src="/app/static/images/add_letter.webp" alt="Tela mostrando a adi√ß√£o da letra 'E' nos arquivos HTML." class="img-full">

        <p class="p-styled  spaced-p">Feitas as adi√ß√µes nos arquivos HTML, vamos adicionar os arquivos  ao index, usando o <code class="language-bash">git add</code>.</p>

    <img src="/app/static/images/git_add_let_F.webp" alt="Tela mostrando o status e a aplica√ß√£o do git add." class="img-full">

        <p class="p-styled  spaced-p">Vamos implementar novamente uma 'feature request' adicionando a letra 'F' aos arquivos pilots.html, cities.html e names.html na seguinte ordem repectivamente: 'Foxtrot', 'Fillmore' e 'Fred',da mesma forma anteriormente realizada com a letra 'E'.</p>

    <img src="/app/static/images/git_add_let_E.webp" alt="Tela mostrando o status ap√≥s a adi√ß√£o da letra F." class="img-full">

       <p class="p-styled  spaced-p">A imagem anterior mostra o status depois da aplica√ß√£o da letra F.
        Aqui √© muito importante perceber que as adi√ß√µes da letra 'F' n√£o foram submetidas ao  <code class="language-bash">git add</code> por isto permanecem sem o controle do git ao passo
       que as adi√ß√µes das letra 'E' permitem que os arquivos sejam comitados.</p>

            <img src="/app/static/images/git-log-oneline.webp" alt="Tela mostrando o log ap√≥s a adi√ß√£o da letra D." class="img-full">

       <p class="p-styled  spaced-p">Temos ent√£o tr√™s situa√ß√µes distintas ou seja,
        a letra 'D' foi adicionada e comitada, a letra 'E' foi adicionada mas n√£o comitada e a letra 'F' n√£o foi adicionada e nem comitada.
       </p>

        <h4>Git diff - Como comparar mudan√ßas nos seus arquivos  - uma vis√£o detalhada</h4>

        <p class="p-styled  spaced-p">O motivo de detalhamento desta p√°gina reside no fato
            de que o comando <code class="language-bash">git diff</code> requer um entendimento mais profundo de onde e como us√°-lo em sua plenitude.
            Desta forma as p√°ginas <strong>branch.html</strong> e <strong>branch_1.html</strong> onde se descorre de forma superficial no uso do referido comando
            lhe recomendam que visite esta p√°gina para compreens√£o do cen√°rio em quest√£o.</p>

        <p class="p-styled  spaced-p">O comando <code class="language-bash">git diff</code> √© uma ferramenta essencial para
            desenvolvedores que trabalham com o Git, o sistema de controle de vers√£o distribu√≠do. Ele permite que os usu√°rios visualizem as diferen√ßas entre v√°rios
            estados da base de c√≥digo. Esse comando ajuda a identificar altera√ß√µes entre commits, branches, diret√≥rio de trabalho e √°rea de preparo.
            Entender como usar o git diff pode melhorar muito sua capacidade de gerenciar e solucionar problemas de altera√ß√µes de c√≥digo de forma eficaz.</p>

       <h4>Comandos git diff voltados para verifica√ß√£o por arquivos espec√≠ficos</h4>

       <pre><code class="language-bash">git diff HEAD file_name</code></pre>

        <pre><code class="language-bash">git diff file_name file_name</code></pre>

        <pre><code class="language-bash">git diff --staged file_name or git diff --cached file_name file_name file_name</code></pre>

        <pre><code class="language-bash">git diff branch_name1 branch_name2 file_name file_name file_name file_name</code></pre>

        <pre class="spaced-pre"><code class="language-bash">git diff commit_hash commit_hash file_name file_name file_name</code></pre>

        <p class="p-styled  spaced-p">Vamos de agora em diante mostrarmos o uso do git diff em todos os detalhes
        mas para isto utilizaremos o arquivo 'pilots.html' para demonstra√ß√£o. Para os arquivos cities.html e names.html o procedimento √© o mesmo.</p>

        <p class="p-styled  spaced-p">A imagem abaixo mostra o comando git status para o arquivo 'pilots.html'.
            Podemos notar que a letra 'E' foi adicionada ao arquivo sem contudo ser comitada. A letra 'F' foi adicionada ao arquivo sem contudo ser colocada no index ou staged.
        </p>

    <img src="/app/static/images/git_st_diff.webp" alt="Tela mostrando o comando git status aplicado ao arquivo pilitos.htmlt" class="img-full">

        <p class="p-styled  spaced-p">Na imagem abaixo vamos interpretar a sa√≠da do comando
            git diff pilots.html linha por linha.
           </p>

            <img src="/app/static/images/git-diff-pilot.webp" alt="Tela mostrando o comando git status aplicado ao arquivo pilitos.htmlt" class="img-full">



            <h4>Comando executado</h4>
            <ul>
            <li class="li-large"><code class="language-bash">git diff</code></li>
            <li class="li-large">Esse comando compara as diferen√ßas entre a vers√£o atual do arquivo pilots.html e a √∫ltima vers√£o commitada no reposit√≥rio.</li>
            </ul>

            <h4>Primeiras linhas de sa√≠da</h4>
            <ul>
            <li class="li-large"><code class="language-bash">diff --git a/pilots.html b/pilots.html</code></li>
            <li class="li-large">Isso indica que a compara√ß√£o est√° sendo feita no arquivo pilots.html. O git diff compara a vers√£o anterior (a/pilots.html) com a vers√£o atual (b/pilots.html).</li>
            </ul>

            <h4> √çndice (hashes das vers√µes do arquivo)</h4>

            <ul>
            <li class="li-large"><code class="language-bash">index fb4318f..32706f8 100644</code></li>
            <li class="li-large">fb4318f ‚Üí Hash do commit anterior do arquivo.</li>
            <li class="li-large">32706f8 ‚Üí Hash do estado atual do arquivo (com as mudan√ßas).</li>
            <li class="li-large">100644 ‚Üí Indica as permiss√µes do arquivo (arquivo comum sem permiss√£o de execu√ß√£o).</li>
           </ul>

            <h4>Identifica√ß√£o das vers√µes do arquivo</h4>
            <ul>
            <li class="li-large">
                <code class="language-bash">--- a/pilots.html</code>
                <code class="language-bash">+++ b/pilots.html</code>
            </li>
            </ul>

            <ul>
            <li class="li-large">--- a/pilots.html ‚Üí Indica a vers√£o antiga do arquivo.</li>
            <li class="li-large">   +++ b/pilots.html ‚Üí Indica a vers√£o modificada.</li>
            </ul>

            <h4>Bloco de contexto (linhas alteradas):</h4>

            <ul>
            <li class="li-large"><code class="language-bash">@@ -22,6 +22,7 @@</code></li>
            <li class="li-large">Esse trecho indica que a modifica√ß√£o est√° na altura da linha 22 no arquivo original:</li>
            <li class="li-large">-22,6 ‚Üí No arquivo antigo, o trecho come√ßava na linha 22 e tinha 6 linhas.</li>
            <li class="li-large">+22,7 ‚Üí No arquivo novo, o trecho come√ßa na linha 22 e agora tem 7 linhas.</li>
            <li class="li-large">Isso sugere que foi adicionada uma linha ao c√≥digo.</li>
            </ul>

           <h4>Conte√∫do antes e depois</h4>

           <img src="/app/static/images/conteudo_diff.webp" alt="Conte√∫do antes e depois" class="img-full">


           <h4>Estado do reposit√≥rio</h4>

           <ul>
            <li class="li-large"> A linha Delta j√° foi commitada anteriormente.</li>
            <li class="li-large"> A linha &lt;li&gt;Foxtrot&lt;/li&gt;  foi adicionada, mas ainda est√° unstaged (n√£o foi adicionada ao √≠ndice com git add).</li>
            <li class="li-large">O comando <code class="language-bash">git add pilots.html</code> foi executado anteriormente para incluir outras mudan√ßas no stage, mas a linha &lt;li&gt;Foxtrot&lt;/li&gt; ainda n√£o foi adicionada ao stage.</li>
           </ul>

           <h4>Testando no reposit√≥rio</h4>

           <p class="p-styled  spaced-p">Se voc√™ quiser ver todas as diferen√ßas, incluindo as que j√° est√£o no stage, use:</p>
           <ul>
           <li class="li-large"><pre class="spaced-pre code-block"><code class="language-bash">git diff --staged pilots.html</code></pre></li>
           <li class="li-large">Isso mostrar√° as diferen√ßas que j√° foram adicionadas ao stage, mas ainda n√£o commitadas.</li>
           <li class="li-large">A imagem anterior confirma que a letra 'E' foi adicionada via <code class="language-bash">git add</code>  mas n√£o comitada.</li>
           </ul>
           <img src="/app/static/images/git-diff_staged.webp" alt="Conte√∫do antes e depois" class="img-full">

           <h4>Vendo as altera√ß√µes desde o √∫ltimo comite.</h4>

           <ul>
           <li class="li-large"><pre class="spaced-pre code-block"><code class="language-bash">git diff HEAD pilots.html</code></pre></li>
           <li class="li-large">Na imagem abaixo vemos uma linha contendo a palavra 'Echo' e 'Foxtrot' adicionadas como indicado pelo sinal '+'. O git diff interpreta o HEAD com um hash do √∫ltimo comite.</li>
           <li class="li-large">O resultado √© esperado pois o comite (letra D) foi feito antes da adi√ß√£o das letras 'E' e 'F'. </li>
           </ul>
           <img src="/app/static/images/git-diff-head.webp" alt="Conte√∫do antes e depois" class="img-full">

           <h4>Vendo mudan√ßas entre dois comites</h4>

           <ul>
           <li class="li-large"><pre class="spaced-pre code-block"><code class="language-bash">git diff HEAD~1 HEAD pilots.html</code></pre></li>
           <li class="li-large">Esse comando compara a vers√£o do arquivo pilots.html entre: </li>
           </ul>

           <ul>
            <li class="li-large">HEAD~1: O commit anterior ao atual (o "pai" do commit atual).</li>
            <li class="li-large">HEAD: O commit atual.</li>
            <li class="li-large">Isso significa que estamos verificando as mudan√ßas feitas no √∫ltimo commit que afetaram pilots.html.</li>
            </ul>

            <pre class="spaced-pre code-block"><code class="language-bash">index 9dd516f..ce31f88 100644</code></pre>
               <img src="/app/static/images/git-diff-head-head.webp" alt="Entre dois comites" class="img-full">

            <ul>
            <li class="li-large">9dd516f: Hash da vers√£o anterior do arquivo (HEAD~1).</li>
            <li class="li-large">ce31f88: Hash da vers√£o atual do arquivo (HEAD).</li>
            <li class="li-large">100644: Permiss√µes do arquivo (arquivo comum, sem execu√ß√£o).</li>
            <li class="li-large">Esse <code class="language-bash">git diff</code> confirma que no √∫ltimo commit foi adicionada a linha &lt;li&gt;Delta&lt;/li&gt; ao pilots.html.</li>
            </ul>

            <h4>Obtendo os hashes pelo git log para verificar a diferen√ßa entre comites.</h4>

            <ul>
            <li class="li-large"><pre class="spaced-pre code-block"><code class="language-bash">git log --online --decorate</code></pre></li>
            <li class="li-large"><pre class="spaced-pre code-block"><code class="language-bash">git diff d298f74 2dded79 pilots.html</code></pre></li>
            <li class="li-large">Na imagem anterior podemos observar os seguintes pontos:</li>
            </ul>
            <img src="/app/static/images/git-log-diff.webp" alt="Entre dois comites" class="img-full">

            <ul>
            <li class="li-large">O comando <code class="language-bash">git log --oneline --decorate</code> mostrou que o commit 2dded79 adicionou algo novo ao projeto.</li>
            <li class="li-large">git diff d298f74 2dded79 pilots.html revelou exatamente qual foi essa mudan√ßa: a adi√ß√£o da linha &lt;li&gt;Delta&lt;/li&gt;</li>
            </ul>

            <h4>Agora vamos comitar as pend√™ncias do 'feature request', ou seja a inser√ß√£o da letra 'E' e da letra 'F'.</h4>

            <img src="/app/static/images/commit_E.webp" alt="Entre dois comites" class="img-full">
            <img src="/app/static/images/commit_F.webp" alt="Entre dois comites" class="img-full">
            <p class="p-styled  spaced-p">Ressalvo que o comite da letra 'F' foi precedido de um comando <code class="language-bash">git add</code> pois o mesmo estava 'unstaged'.</p>

            <h4>Conclus√£o desta etapa</h4>

               <img src="/app/static/images/git-st-final.webp" alt="Entre dois comites" class="img-full">

           <section>
            <h3>Git Graph</h3>
            <p>Diagrama Mermaid  para o Git graph</p>
            <p>Observe que agora usamos a mensagem do comite para mostrar no GitGraph ao inv√©s do 'hash' de cada comite.</p>
            <div class="mermaid">
                %%{init: { 'logLevel': 'debug', 'theme': 'base', 'gitGraph': {'showBranches': true, 'showCommitLabel':true,'mainBranchOrder': 0}} }%%
                gitGraph
                commit id: "0-Initial commit"
                commit id: "1-Adicionado o c√≥digo fonte"
                commit id: "2-Letra D adicionada"
                commit id: "3-Letra E adicionada"
                commit id: "4-Letra F adicionada"
            </div>
            <h3>Mermaid Code</h3>
            <p>C√≥digo Mermaid para o Git graph</p>
            <div class="code-box">
                <pre>
                    <code>
%%{init: { 'logLevel': 'debug', 'theme': 'base', 'gitGraph': {'showBranches': true, 'showCommitLabel':true,'mainBranchOrder': 0}} }%%

                        gitGraph
                        commit id: "0-Initial commit"
                        commit id: "1-Adicionado o c√≥digo fonte"
                        commit id: "2-Letra D adicionada"
                        commit id: "3-Letra E adicionada"
                        commit id: "4-Letra F adicionada"
                    </code>
                </pre>
            </div>
        </section>
        <footer class="footer">
            <div class="footer-copyright">
                ¬© 2025 Curso de Git. Todos os direitos reservados.
            </div>

            <div class="footer-flex">
                <nav class="footer-nav">
                    <a href="11-branch-2.html" class="footer-link">‚Üê Voltar</a>
                    <a href="13-undo-changes.html" class="footer-link">Pr√≥ximo: undo-changes ‚Üí</a>
                </nav>

                <div class="footer-buttons">
                    <button id="logoutButton" type="button" class="logout-button">Logout</button>
                    <button type="button" id="markCompletedButton" data-topic-id="4" class="form-btn">Conclu√≠do ‚úì</button>
                </div>
            </div>

            <div class="footer-instruction">
                Para sair da sua conta, clique em Logout. Para registrar seu progresso, clique em Conclu√≠do.
            </div>

            <div class="footer-badges">
                <a href="https://pages.github.com/" class="github-link">
                    <span>üêô GitHub Pages</span>
                    <img src="/app/static/images/github-mark-white.png"
                         alt="GitHub Logo"
                         class="footer-logo">
                </a>
                <a href="https://jigsaw.w3.org/css-validator/check/referer" class="w3c-link">
                    <img src="https://jigsaw.w3.org/css-validator/images/vcss"
                         alt="CSS v√°lido!"
                         class="footer-logo" width="45" height="16">
                </a>
            </div>
        </footer>
    <script src="/app/static/js/git-course-functions.js"></script>
    <script>Prism.highlightAll();</script>
    </div>
</body>
</html>
